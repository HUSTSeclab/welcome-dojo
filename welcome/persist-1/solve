#!/opt/pwn.college/bash

# art from https://emojicombos.com/pokemon-ascii-art

cat <<END | while read LINE; do echo "$LINE"; sleep 0.1; done
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⡐⡆⠀⠀⠀⠀⠀⣀⠠⢒⠖⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⡐⠀⠀⡰⢦⣹⠁⠀⡀⠄⠒⢉⠄⣌⠎⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⡞⣦⠮⡑⣦⠗⠐⠁⠀⣀⠚⡄⡪⠂⠀⠀⢀⡀⡤⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢰⡓⠊⠈⠀⠀⠀⠀⠀⠀⠀⠀⠋⠉⠉⢀⢀⠤⣐⠏⣭⡩⠋⠁⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⡐⠂⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⡀⢄⠲⡌⢮⣱⡩⠚⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠸⡤⠀⠀⠀⠀⢀⢐⠀⠀⢀⢠⣰⠱⡘⢎⡣⣝⠲⠯⠤⠠⢄⡀⣠⠤⠀⠀⠀⠀⠀⠀
⠀⠀⠀⡠⢀⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠏⣷⡴⢤⡄⣄⢡⣔⡾⠚⠉⡇⢧⡙⣎⠵⣊⡝⣣⠏⣝⢲⣋⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠃⠀⠀⠀⠐⠀⠄⡀⠀⢰⠒⠒⠠⠀⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠄⠘⠟⠀⠀⠿⢤⣻⣯⡇⠀⢀⡛⢦⡱⢎⡚⡥⢚⡤⢛⠬⡓⢬⠓⡔⡒⠤⠄⡀⣀⡀
⠀⠀⠀⠀⢄⠀⠀⠀⠀⠀⠀⠃⠄⠀⢄⠀⠀⠀⠃⢄⡠⢄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠜⠀⠀⠀⠠⠀⠀⠀⢧⣛⠣⢠⠜⡸⣄⠧⣛⡜⣣⢇⡸⢇⠧⣛⢤⡛⣤⡛⡸⠤⠛⠀⠀
⠀⠀⠀⠀⢠⠱⢄⠀⠀⠀⠀⠀⠀⠀⠉⠒⢦⡀⠀⡠⢀⠑⢢⣗⠤⢄⠀⠀⠀⠀⢰⠀⠀⠀⢈⡴⣤⠤⣀⠀⡽⡌⣇⢫⡕⢎⡲⢥⠚⡔⢮⢱⡮⠗⠋⠊⠉⠁⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠠⠀⠀⠈⠂⣄⠀⠀⠀⠀⠀⠀⠀⠈⡑⢦⣅⠊⡔⢨⠙⠶⣍⠢⢄⠀⠀⠀⢄⠀⡏⢹⠃⠀⡎⡿⣑⠞⣌⠶⣘⢣⡜⢆⡛⡜⢬⣣⠽⠦⠄⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠡⠀⠀⠀⠀⠉⠢⣄⠀⠀⠠⡀⠀⠐⠢⢌⠛⢦⡡⢊⠒⡌⠣⢌⡑⢢⡀⠀⢯⠀⠾⡒⠊⣴⢃⠇⡞⣘⠲⡩⢖⡜⣣⠝⣬⠣⢇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠑⡀⠀⠀⠀⠀⠠⢉⠲⣤⣀⠃⡆⡁⢎⡘⢄⠢⣁⠣⢌⡑⢢⠘⡄⢚⣶⣡⣤⡐⠬⡙⠤⡉⠜⡰⢡⢣⠱⣉⠶⡑⡞⡰⢋⠾⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠈⢢⡐⢠⠠⢌⠡⢃⠔⡩⠘⠤⡑⢢⠘⡄⠣⢄⠃⢆⡘⢄⠣⡘⢄⠣⢿⡟⣨⣶⠁⢆⠱⡈⠔⠣⢄⠫⡜⢲⣉⠖⣭⢹⡚⢧⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠙⣧⡜⢠⠃⢎⠰⢡⠉⢆⡑⢢⠑⡌⠱⡈⠜⡠⡘⢄⠣⡘⠤⡙⢮⠿⣿⡇⡘⢄⠣⡘⢌⠱⣈⠒⣍⠲⣜⢺⣦⢣⠇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠱⣀⡻⣷⣌⢆⡑⢢⠉⢆⡘⢄⠣⢌⠱⣈⠒⣡⠘⡄⢣⠘⠤⣙⡏⣞⡟⢀⣱⡈⢆⠡⢊⠔⡠⢃⢬⢃⣧⣻⣝⡻⣼⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠰⠀⠂⠐⠢⠄⡀⡀⠀⠀⠈⢷⡸⣝⢮⢳⠦⣍⢢⡘⢄⠣⢌⠒⡄⠣⢄⠣⡘⢤⡩⢞⡱⣞⣵⣷⣿⣿⢁⠎⡰⢁⠎⣐⣿⡈⢾⣿⣿⣮⣓⢿⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠱⡀⡀⢀⠀⡀⢀⠁⠂⠢⢀⢳⡮⡝⢮⡝⣎⣳⠹⣎⡳⢎⡳⣜⠳⣎⢳⡝⢮⡹⣍⢷⢪⡝⣾⠟⢸⢨⢂⠱⡼⢻⡘⠈⣎⡗⢸⣿⠶⡉⡆⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠘⢭⢎⡱⣍⢮⡙⢮⡱⢆⠶⣙⢿⡮⣜⢳⡜⣫⠶⣍⢯⡱⣎⢻⢬⣓⢞⣣⡝⣞⣬⠳⡽⠁⠀⠌⠀⣠⠋⠀⠘⠁⠀⣣⠇⠸⡿⢠⠹⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠑⠳⢜⣦⣙⢦⡙⣎⠳⣍⠶⣙⢻⣧⡞⡵⣫⠞⡮⢵⢫⡝⡶⣹⢎⡳⢞⡱⣮⢟⠁⠀⠀⣃⠞⠁⠀⠀⠀⠀⠀⠘⠀⣸⢧⡹⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠉⠑⠛⢨⣷⡼⣬⠧⡷⢞⢟⠓⠧⣻⣍⡷⣋⢾⡱⣧⣫⣽⠯⠋⠁⠀⠉⠀⠄⡁⠀⠀⠀⠀⠀⠀⠀⣀⣴⣿⠞⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⡠⠤⡒⢭⡱⢎⡲⡱⢎⣳⡭⠞⠚⠣⡀⠀⢀⡈⠉⠉⠉⠣⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⠉⠀⠀⠈⠉⢀⡼⠛⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠉⠒⠽⠦⠽⠞⠓⠋⠁⠀⠀⠀⠀⠀⠐⢄⡌⠀⠀⠀⠀⡀⠈⠒⠄⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⡀⠔⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠑⠄⠀⠀⠉⠑⠒⠠⠠⠄⠠⣤⠖⠻⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⡇⠀⠀⠀⠀⠀⠀⣬⣤⣤⠀⠀⠀⢠⠒⠀⠈⠀⢠⠂⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⡰⠀⠀⠀⢀⠠⠊⠀⠀⠀⠀⠀⠀⠀⠁⠢⣄⡲⢼⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢹⠶⠒⣬⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠘⢄⠁⠀⠣⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠘⠀⠀⡇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢑⡀⠀⠐⢄⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⠀⢐⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠠⠊⠈⢐⠁⠀⠀⠐⢌⠑⠂⠠⠤⠀⠠⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⡰⠃⠀⠀⢯⢁⠀⠀⠀⠀⠀⠀⠀⠀⠀⡳⠄⠊⠁⠈⠁⠢⠄⠀⢨⠱⡤⠤⠤⢄⠀⡖⠣⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⡠⠒⠒⠂⠀⠠⠀⠀⠀⠀⠉⠂⠄⠀⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠢⠇⡀⡇⠀⠀⠀⠑⠓⠀⡆⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⡈⠈⡆⡠⠐⠊⠁⠀⠀⠁⠒⠤⢀⢠⠉⠳⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠃⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠦⠊⠈⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠉⠲⢀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
END

if [ ! -f /home/hacker/leap/secret ]
then
	cat <<END

请在你的家目录下创建一个 leap 目录，并在其中复制 /challenge/secret 文件!
生成文件的路径应为 /home/hacker/leap/secret，其内容与 /challenge/secret 相同。

完成上述操作后，即可重新运行本脚本获取 /flag。

END

	exit
fi

if [ "$(realpath /home/hacker/leap/secret)" != "/home/hacker/leap/secret" ]
then
	echo "请不要使用符号链接这种诡计，直接复制文件！"
	exit
fi

read TOKEN </home/hacker/leap/secret
read CORRECT </challenge/secret

if [ "$TOKEN" == "$CORRECT" ]
then
	cat <<END
/home/hacker/leap/secret 存在且正确！在下一个挑战中，你会看到本文件仍然
在你的家目录中！现在，请查收 flag:
END
	cat /flag
else
	cat <<END
/home/hacker/leap/secret 文件内容貌似不正确。
请直接从 /challenge/secret 文件拷贝。
END
fi
