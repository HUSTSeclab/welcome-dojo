#!/opt/pwn.college/bash

# art from https://emojicombos.com/pokemon-ascii-art

cat <<END | while read LINE; do echo "$LINE"; sleep 0.1; done
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣠⠞⣻⠇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⣤⠀⠀⣠⠖⠉⠀⣰⣃⣠⠤⣶⠄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⣠⣶⠃⣼⡤⠚⠁⠀⠀⠀⠭⢰⢰⣾⠏⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⢠⠃⠃⣠⠋⠀⠀⠀⢀⣀⣤⣒⣧⣿⠇⠤⠤⣤⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⢀⡆⢠⠞⠁⣀⣤⡶⠾⠛⠉⠁⠀⠀⠀⠀⠀⠈⠓⠢⢤⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⢀⣾⣴⣓⣮⣟⣋⣁⣤⣄⡤⠤⢶⣤⣤⣤⣤⣤⣤⣄⣀⣈⡑⢤⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⡠⠒⠉⠁⠀⠀⠉⢻⡉⠫⢼⣿⡟⠀⢀⣿⣿⣿⣿⣶⡢⠖⡤⢹⡀⠈⠉⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠸⣷⣶⣶⢦⣤⡐⠈⠘⣧⠀⠀⠈⠑⠶⣾⣿⣿⣿⣿⣿⣿⣝⡜⠤⡇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠻⣄⠤⢻⣧⣄⢸⡀⠀⠀⠀⠀⠘⢿⣿⣿⣿⣿⣿⣿⡜⣃⢿⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠘⣷⠟⠁⣉⣿⡇⠀⠀⠀⠀⠀⠀⢹⣿⣿⣿⡿⢟⡜⣢⢻⡆⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⢀⣼⣇⣠⠔⢋⡼⠀⠀⠀⠀⠀⠀⢠⣿⣿⠿⢋⠼⣡⠚⡥⢎⢷⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠈⠛⠳⡶⠶⠚⠁⠀⠀⠀⠀⠀⢀⡾⠛⠁⢀⡾⡱⣡⠛⡴⣉⣎⢷⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⢸⠀⠀⠀⠀⠀⠀⠀⠀⠀⡼⠀⠀⠀⢋⡶⢱⣡⠿⠋⠈⠉⠙⠓⠢⢤⣀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⢠⠇⠀⠀⠀⠀⠀⠀⠀⠀⠀⣏⠁⠀⢀⡿⣡⣿⠋⠀⠀⠀⠀⠀⠀⠀⠀⠀⠙⠢⢄⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⢀⠎⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠘⢆⢀⠻⣔⣹⠃⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢠⡙⠶⣄⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠌⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⠻⣧⡜⡟⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠙⣧⢹⣿⣦⡀⠀⠀⠀⠀⠀⠀⠀⠀⣀⠤⢤⣀⣀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⡨⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠛⡇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠒⣌⢣⣿⣧⡀⠀⠀⠀⠀⠀⢀⡤⠊⠁⠀⠀⠀⠀⠉⠓⠤⣀⠀⠀⠀
⠀⢠⠃⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢠⠐⣷⣀⢀⠀⡀⠀⠀⠀⠀⠀⠂⠀⠀⠰⣄⠈⢧⡓⢾⣿⣇⠀⢀⣠⣤⡖⡁⠀⠀⠀⠀⠀⠀⠀⢀⣀⠀⠈⠑⢦⡀
⠀⢸⠀⡄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⡀⠈⡇⣿⢰⢫⡜⡱⣌⢣⡝⢬⠳⣄⡄⡡⢆⣹⣙⢦⡻⣽⣿⠿⣿⣿⠿⣝⡞⣥⢋⣶⣡⣶⠶⡞⡛⠭⣉⠻⢯⡿⠚⠁
⠀⢩⠀⡆⠀⠀⠀⢸⠀⠀⠀⠀⠀⣆⠀⠀⠀⣧⠀⡇⢸⣧⢳⣜⡱⣎⡳⣜⣣⢷⣸⣶⡹⣽⢲⡝⣮⣷⣽⣿⡆⠘⣯⡟⣮⣽⡾⣟⡯⣝⣎⡳⠤⡑⠢⢄⠃⢆⡙⢲⡄
⠀⢸⣘⡇⠀⠀⠀⢸⠀⡄⠀⡆⠀⢸⡀⠀⠀⣿⡄⡇⠀⢿⣳⢎⡷⣭⢷⣹⢎⣷⣹⣿⣷⣭⣿⣞⣷⣿⠉⠛⠀⢠⠹⣿⡻⣭⢗⡯⣞⡵⢮⡵⣳⣜⣣⣬⠼⠖⠛⠋⠁
⠀⠀⠛⢷⠀⠀⣄⠘⣇⢱⠀⠀⠀⠈⣧⠀⠀⢸⠹⠃⠀⠘⣯⣟⢾⡱⢯⡞⣽⡲⣝⢿⣆⠙⢧⠙⠻⠉⠀⠀⢠⠀⠇⢻⠓⠛⠚⠓⠛⠛⠋⠉⠉⠁⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠈⠓⠤⣼⣄⣿⣾⣧⠀⠀⠀⢸⡷⣠⡿⠀⠀⠀⠀⠈⢿⣞⡽⣳⡽⣣⢟⡾⣹⣿⣦⠀⠀⠀⠀⠀⠀⠘⡄⠘⡈⡇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠈⠣⣅⠘⠉⠓⠒⠒⠚⠁⠉⠀⠀⠀⠀⠀⠀⠀⠙⢷⣿⡟⢿⣿⠾⠷⠿⠛⠀⠀⠀⠀⠂⠀⠀⠈⡄⢱⣱⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠑⣤⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⠛⢲⡌⠁⠀⠀⠀⠀⠐⣦⠀⠀⠀⠀⠀⠐⡄⣿⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠉⠑⠢⢄⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⠑⠦⢄⣀⠀⠀⠀⠑⢄⡀⠀⠀⠀⠱⣿⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⠑⠢⣄⣀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣀⡨⠝⠒⠢⢤⣀⡉⠢⣄⠀⠀⢹⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢠⣤⢿⢩⠙⣿⡖⡲⠖⠶⣶⡖⠲⢺⡞⠉⠉⠀⠀⠀⠀⠀⠀⠀⠘⠋⠉⠑⠢⠔⠃⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⡰⢖⠒⠚⣩⣽⠿⠿⠿⠿⢛⡡⢎⣱⢨⡙⢻⣦⣾⢿⡃⠄⠸⢷⣦⣀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⢠⠊⢀⣸⣧⡿⠋⠈⢧⣀⣲⣿⠒⠒⠛⠛⠛⠛⢋⠉⣠⠟⠀⠌⠠⢀⠀⠹⠏⠉⣷⢄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠛⠊⠉⠉⠹⣇⡤⠾⢿⠟⠉⠀⣧⣀⣠⣼⣟⡛⠛⠋⠁⠠⣡⡾⠛⠋⠛⠚⠟⠒⠛⠼⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢻⡤⠖⠟⠋⢠⠞⠁⠀⣹⣀⣠⣤⠟⠋⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣿⣠⣖⡞⠛⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
END

if stat /bin/sudo | grep -q Access.*4755 
then
	cat <<END

你正在练习模式中运行!你需要的秘密在 /challenge/secret 中。
使用 sudo 成为 root 用户并读出它，然后在正常模式中重新启动这个挑战关卡并获取 flag！

您会注意到 /flag 已被替换为特定于练习模式的标记（即，pwn.collge{practice}），因此，
你无法在练习模式中读出 /flag。

END
else
	cat <<END

你并非在练习模式下运行!希望你已经在练习模式下运行过当前挑战关卡，并使用 sudo 读取 /challenge/secret。
如果不是，请在练习模式中重新开启当前挑战关卡，然后回到正常模式再试一次。

END
	echo -n "输入秘钥："
	read TOKEN
	read CORRECT < /challenge/secret

	if [ "$TOKEN" == "$CORRECT" ]
	then
		echo -n "通过！你的 flag 是："
		cat /flag
	else
		echo "秘钥不正确"
	fi
fi
